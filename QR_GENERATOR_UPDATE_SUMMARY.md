# 二维码生成器功能更新

## 新增功能

### 1. 右上角设置按钮
- ✅ 在导航栏右侧添加了设置图标按钮
- ✅ 点击按钮打开全局样式设置弹窗
- ✅ 设置按钮有悬停提示

### 2. 全局样式设置弹窗
- ✅ **颜色设置**: 二维码颜色和背景颜色
- ✅ **样式设置**: 
  - 二维码点样式（方形/圆形）
  - 定位点样式（方形/圆形）
- ✅ **Logo设置**: 添加/移除Logo图片
- ✅ **持久化存储**: 使用SharedPreferences保存全局设置
- ✅ **实时预览**: 弹窗内和主界面都会实时显示样式变化

### 3. 保存功能
- ✅ **保存到相册**: 使用image_gallery_saver包保存高清图片
- ✅ **高清输出**: 使用3倍像素率确保图片清晰度
- ✅ **用户反馈**: 保存成功/失败的提示消息
- ✅ **输入验证**: 确保有内容才能保存

## 技术实现

### 核心组件
1. **RepaintBoundary**: 包裹二维码用于截图
2. **SharedPreferences**: 全局样式设置持久化
3. **StatefulBuilder**: 弹窗内状态管理
4. **ImageGallerySaver**: 图片保存到系统相册

### 全局设置字段
- `qr_global_color`: 二维码颜色
- `qr_global_bg_color`: 背景颜色  
- `qr_global_logo_size`: Logo大小
- `qr_global_data_shape`: 数据点样式
- `qr_global_eye_shape`: 定位点样式

### 用户体验优化
- ✅ 移除了页面底部的样式设置（避免重复）
- ✅ 应用启动时自动加载全局设置
- ✅ 保存按钮集成在二维码下方
- ✅ 完善的错误处理和用户提示
- ✅ 响应式弹窗设计适配不同屏幕尺寸

## 使用说明

1. **设置样式**: 点击右上角⚙️按钮打开样式设置
2. **生成二维码**: 输入内容后自动生成预览
3. **保存图片**: 点击"保存到相册"按钮保存高清图片
4. **全局设置**: 样式设置会自动应用到未来生成的所有二维码

所有功能都遵循项目的设计规范和用户体验标准。